<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioTube - Streamlined YouTube Audio Player</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo" aria-hidden="true">
                <svg class="logo-icon" viewBox="0 0 64 64" role="img">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#0af" />
                            <stop offset="50%" stop-color="#5f52ff" />
                            <stop offset="100%" stop-color="#63e6e2" />
                        </linearGradient>
                        <linearGradient id="logoGlow" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="rgba(255,255,255,0.85)" />
                            <stop offset="100%" stop-color="rgba(255,255,255,0.2)" />
                        </linearGradient>
                    </defs>
                    <path d="M12 18c0-3.866 3.134-7 7-7h26c3.866 0 7 3.134 7 7v28c0 3.866-3.134 7-7 7H19c-3.866 0-7-3.134-7-7V18z" fill="url(#logoGradient)" opacity="0.9"/>
                    <path d="M26 22c0-2.21 2.05-3.62 3.95-2.62l16 8.5c2 1.06 2 3.98 0 5.04l-16 8.5C28.05 42.42 26 41.01 26 38.8V22z" fill="url(#logoGlow)"/>
                    <circle cx="20" cy="20" r="5" fill="rgba(255,255,255,0.45)"/>
                    <circle cx="44" cy="44" r="4" fill="rgba(255,255,255,0.35)"/>
                </svg>
                <span class="logo-text">AudioTube</span>
            </div>
            <p class="subtitle">Liquid-glass YouTube audio streaming</p>
        </header>

        <div class="theme-toggle" role="group" aria-label="Theme selector">
            <button type="button" data-theme="light">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5" fill="currentColor" stroke="none" opacity="0.25"/>
                        <line x1="12" y1="2" x2="12" y2="5"/>
                        <line x1="12" y1="19" x2="12" y2="22"/>
                        <line x1="4.22" y1="4.22" x2="6.34" y2="6.34"/>
                        <line x1="17.66" y1="17.66" x2="19.78" y2="19.78"/>
                        <line x1="2" y1="12" x2="5" y2="12"/>
                        <line x1="19" y1="12" x2="22" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="6.34" y2="17.66"/>
                        <line x1="17.66" y1="6.34" x2="19.78" y2="4.22"/>
                    </svg>
                </span>
                <span class="label">Light</span>
            </button>
            <button type="button" data-theme="dark">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 14.5A8.5 8.5 0 0 1 9.5 3a8.5 8.5 0 1 0 11.5 11.5Z" fill="currentColor" opacity="0.85"/>
                    </svg>
                </span>
                <span class="label">Dark</span>
            </button>
            <button type="button" data-theme="auto" class="active">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 12a8 8 0 1 1 8 8" opacity="0.4"/>
                        <path d="M12 4a8 8 0 0 1 0 16"/>
                        <circle cx="12" cy="12" r="3" fill="currentColor" stroke="none"/>
                    </svg>
                </span>
                <span class="label">Auto</span>
            </button>
        </div>

        <div class="input-section">
            <label class="sr-only" for="yt-url">YouTube video link</label>
            <input
                type="text"
                id="yt-url"
                class="url-input"
                placeholder="Paste a YouTube link and start streaming…"
                autocomplete="off"
            >
        </div>

        <div class="error" id="error-message" role="alert"></div>

        <div class="button-row">
            <button class="btn btn-primary" id="play-btn">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24">
                        <path d="M8 5v14l11-7z" fill="currentColor"/>
                    </svg>
                </span>
                <span class="label">Play</span>
            </button>
            <button class="btn btn-primary" id="paste-play-btn">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 3h6l1 2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h3z"/>
                        <path d="M10 12.5v5l4-2.5z" fill="currentColor" stroke="none"/>
                    </svg>
                </span>
                <span class="label">Paste &amp; Play</span>
            </button>
            <button class="btn btn-secondary" id="clear-btn">
                <span class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 7h16"/>
                        <path d="M10 11v6"/>
                        <path d="M14 11v6"/>
                        <path d="M6 7l1 12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2l1-12"/>
                        <path d="M9 7V4h6v3"/>
                    </svg>
                </span>
                <span class="label">Reset</span>
            </button>
        </div>

        <div class="loading" id="loading" role="status">
            <div class="spinner" aria-hidden="true"></div>
            <p>Connecting to the audio stream…</p>
        </div>

        <section class="player-card" id="player-card" aria-live="polite">
            <div class="song-info">
                <h2 class="song-title" id="song-title">AudioTube Player</h2>
                <p class="song-status" id="song-status">Ready to play</p>
            </div>

            <div class="progress-section">
                <div class="time-display">
                    <span id="current-time">0:00</span>
                    <span id="total-time">0:00</span>
                </div>
                <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                    <div class="progress-thumb" id="progress-thumb" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
                </div>
            </div>

            <div class="main-controls">
                <button class="control-btn" id="backward-btn" aria-label="Rewind 10 seconds">
                    <span class="icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24">
                            <path d="M11 19 2 12l9-7v14z" fill="currentColor"/>
                            <path d="M22 19l-9-7 9-7v14z" fill="currentColor" opacity="0.65"/>
                        </svg>
                    </span>
                </button>
                <button class="control-btn play-btn" id="play-pause-btn" aria-label="Play">
                    <span class="icon icon-play" aria-hidden="true">
                        <svg viewBox="0 0 24 24">
                            <path d="M8 5v14l11-7z" fill="currentColor"/>
                        </svg>
                    </span>
                    <span class="icon icon-pause" aria-hidden="true">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 5h4v14H7z" fill="currentColor"/>
                            <path d="M13 5h4v14h-4z" fill="currentColor"/>
                        </svg>
                    </span>
                </button>
                <button class="control-btn" id="forward-btn" aria-label="Forward 10 seconds">
                    <span class="icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24">
                            <path d="m13 5 9 7-9 7V5z" fill="currentColor"/>
                            <path d="M2 5v14l9-7-9-7z" fill="currentColor" opacity="0.65"/>
                        </svg>
                    </span>
                </button>
            </div>

            <div class="secondary-controls">
                <div class="volume-control">
                    <span class="volume-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 9v6h4l5 4V5l-5 4H4z" fill="currentColor" stroke="none"/>
                            <path d="M16 9a3 3 0 0 1 0 6"/>
                            <path d="M18.5 6.5a6.5 6.5 0 0 1 0 11"/>
                        </svg>
                    </span>
                    <input
                        type="range"
                        class="volume-slider"
                        id="volume-slider"
                        min="0"
                        max="100"
                        value="50"
                        aria-label="Volume"
                    >
                </div>
                <button class="loop-toggle" id="loop-btn" aria-pressed="false">
                    <span class="icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 12a6 6 0 0 1 6-6h5"/>
                            <path d="M21 12a6 6 0 0 1-6 6h-5"/>
                            <path d="m15 4 3 3-3 3"/>
                            <path d="m9 20-3-3 3-3"/>
                        </svg>
                    </span>
                    <span class="label" data-default="Loop" data-active="Looping">Loop</span>
                </button>
            </div>
        </section>

        <section class="mac-terminal" aria-live="polite">
            <div class="mac-terminal-header">
                <span class="traffic-light traffic-red"></span>
                <span class="traffic-light traffic-yellow"></span>
                <span class="traffic-light traffic-green"></span>
                <span class="mac-terminal-title">Stream Monitor</span>
            </div>
            <div class="mac-terminal-body">
                <div class="terminal-line"><span class="prompt">origin%</span><span id="terminal-origin">waiting…</span></div>
                <div class="terminal-line"><span class="prompt">iframe%</span><span id="terminal-iframe">not available yet</span></div>
                <div class="terminal-divider"></div>
                <div class="terminal-line status-row">
                    <span class="status-dot loading" id="terminal-status-dot"></span>
                    <span id="terminal-status-text">Idle • ready for commands</span>
                </div>
                <div class="terminal-line">Audio renderer armed for background playback</div>
                <div class="terminal-line">Dynamic EQ tuned for pocket speakers</div>
                <div class="terminal-line">Loop controller listening on channel 26G</div>
                <div class="terminal-line">Gesture engine smoothed at 120Hz</div>
            </div>
        </section>
    </div>

    <div id="youtube-player"></div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="script.js"></script>
</body>
</html>
